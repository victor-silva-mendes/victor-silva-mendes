<!DOCTYPE html>
<html lang="pt-br">
<head>
	<title>Semáforo</title>
	<meta charset="UTF-8"/>
	<style type="text/css">
		* {
			padding: 0px;
			margin: 0px;
			box-sizing: border-box;
		}

		div.conteiner {
			display: flex;
			flex-direction: column;
			align-items: center;
			margin: 50px;

		}

		div.conteiner > div {
			margin: 20px;
		}

		div.botoes > input {
			width: 75px;
			padding: 1px;
			margin: 2px;
		} 

	</style>
</head>
<body>
	<div class="conteiner">
		<div class="imagem">
			<img id="semaforo" src="_imagens/desligado.png" />
		</div>
		<div class="botoes" id="botoes">
			<input type="submit" value="Vermelho" id="id-vermelho"/>
			<input type="submit" value="Amarelo" id="id-amarelo"/>
			<input type="submit" value="Verde" id="id-verde"/>
			<input type="submit" value="Automático" id="id-automatico"/>
		</div>
	</div>
</body>
<script type="text/javascript">
	const semaforo = document.querySelector('img#semaforo');
	const botoes = document.querySelector('div.botoes');
	let intervalos = null;
	let valorTeste = 0;

	function mudaAuto () {
		if(valorTeste == 1){
			semaforo.src = "_imagens/amarelo.png"
			valorTeste = 2
		}else if (valorTeste == 2){
			semaforo.src = "_imagens/verde.png"
			valorTeste = 3
		}else if (valorTeste == 3 || valorTeste == 0){
			semaforo.src = "_imagens/vermelho.png"
			valorTeste = 1
		}
	}

	function alteraEstado () {		
		if (event.target.id !== "id-automatico" && event.target.id !== "botoes" ){
			clearInterval(intervalos);
			if (event.target.id === "id-vermelho") {
				semaforo.src = "_imagens/vermelho.png"
				valorTeste = 1
			} else if (event.target.id === "id-amarelo") {
				semaforo.src = "_imagens/amarelo.png"
				valorTeste = 2
			} else if (event.target.id === "id-verde") {
				semaforo.src = "_imagens/verde.png"
				valorTeste = 3
			}
		} else if (event.target.id === "id-automatico") {
			clearInterval(intervalos);
			intervalos = setInterval(mudaAuto, 1000); 
		}
	}
	botoes.addEventListener('click', alteraEstado);
</script>
</html>